<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- CSS only -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    </script>

    <script>
        $(document).ready(function(){
           $("#updtPwd").click(function () {
            alert();
            var emails = $("#nEmail").val();
            var oldpassword = $("#nPwd").val();
            var newpassword = $("#nPwd2").val();

            alert("1");
            var url = "/CheckDatainTable?email=" + emails + "&password=" + oldpassword;
            alert("2");
           })
            $.getJSON(url, function (JSONresp) {
                alert("in ajax request");
                alert(JSON.stringify(JSONresp));

                if (JSONresp.length == 0) {
                    $("#result3").html("invalid user id");
                }
                else {
                    alert("jsonresp accepted");
                    $("#result3").html("welcome");
                    var url = "/update-password?email=" + email + "&oldpassword=" + oldpassword + "&newpassword" + newpassword;
                    alert("in new url");
                }
                alert("out");

                $.getJSON(url, function (JSONresp1) {
                    alert("in ajax query 2");
                    alert(JSON.stringify(JSONresp1));
                    alert("accepted");
                    if (JSONresp1.length == 0) {
                        $("#result3").html("update failed");
                    }
                    else
                        $("#result3").html("updated");
                })
            })
        }); 
        

    </script>
</head>

<body>

    <div style=" margin-top: 30px; ">
        <div style="width:1200px ; height: 370px ;">
            <div style="width: 700px; height: 370px; float: left;">
                <span
                    style="font-size:40px ; font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif ; color:palevioletred; font-weight: 900; padding-left: 40px;">
                    MedCare
                </span>
                <br><br><br><br><br><br>
                <span
                    style="margin-left:30px; font-size: 30px; font-family: Arial, Helvetica, sans-serif; font-weight: 700; color:darkslategray;">
                    Landing Page for <br>
                </span>
                <span
                    style="margin-left:30px; font-size: 50px; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; font-weight: 700; color: palevioletred; padding-left: 100px;">
                    Medicine Provider
                </span>
            </div>
            <div>
                <img src="pics/Contact us-bro (1).png" alt="" width="500px" height="400px">
            </div>
        </div><br>
        <div style="width: 1280px; height: 180px; background-color: palevioletred;">
            <a class="nav-link active" href="provider-profile.html">
                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal"
                    style="color: azure; border: 0ch; width: 300px; height: 180px; font-size: 15px; float: left;">
                    Provider Profile
                </button>
            </a>
            <a class="nav-link active" href="medicine.html">
                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal"
                    style="color: azure; border: 0ch; width: 300px; height: 180px; font-size: 15px; float: left;">
                    Donate Medicines
                </button>
            </a>
            <a class="nav-link active" aria-current="page">
                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal"
                    data-bs-target="#securitymodal"
                    style="color: azure; border: 0ch; width: 300px; height: 180px; font-size: 15px; float: left;"
                    style="color: white;">
                    Security
                </button>
            </a>
        </div>
    </div>
    <!-- ============================  PASSWORD UPDATE  ============================== -->
    <div class="modal fade" id="securitymodal" tabindex="-1" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header" style="background-color: palevioletred;height: 50px;">
                    <h3 class="modal-title" id="signupLabel"
                        style="margin-left: 320px; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color: white;">
                        Security </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="padding: 0%;">
                    <div style="width: 400px ; height:470px ; float:left ; ">
                        <img src="pics/Contact us-bro (1).png" alt=""
                            style="width: 400px ; height:470px ; background-size: cover; background-repeat: no-repeat; ">
                    </div>
                    <div style="width: 398px ; height:470px ; float: left;">
                        <form>
                            <div class="row g-5" style="margin-top:2px ; margin-left: 15px;">
                                <div class="col-md-10">
                                    <label for="nEmail" class="form-label"
                                        style="font-family: cursive ; font-size: larger;">
                                        E-mail</label>
                                    <input type="email" class="form-control" name="nEmail" id="nEmail">
                                </div>
                                <div class="col-md-10">
                                    <label for="nPwd" class="form-label"
                                        style="font-family: cursive ; font-size: larger;"> Old
                                        Password</label>
                                    <input type="password" class="form-control" name="nPwd" id="nPwd">
                                </div>

                                <div class="col-md-10">
                                    <label for="nPwd2" class="form-label"
                                        style="font-family: cursive ; font-size: larger;"> New
                                        Password</label>
                                    <input type="password" class="form-control" name="nPwd2" id="nPwd2">
                                </div>
                                <div class="row g-3" style="margin-top:20px ; margin-left: 120px;">
                                    <div class="col-md-10" style="margin-bottom: 30px;">
                                        <input formaction="/update-password" type="button" class="btn btn-danger"
                                            name="updtPwd" id="updtPwd" value="Update" style="font-size:large ;">
                                    </div>
                                </div>
                        </form>
                    </div>
                    <div class="modal-footer" id="result3"></div>

                </div>
            </div>
        </div>
    </div>
    </div>
</body>

</html>